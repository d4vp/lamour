<!DOCTYPE html>
<html>
<head>
    <title>l'amour</title>
    <style>
        /* Estilos para el canvas que ocupará la pantalla completa */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: ; /* Ajustar al tamaño completo de la ventana */
        }
        
        /* Estilos para el control de audio */
        audio {
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 1; /* Asegura que el control de audio esté encima del canvas */
        }
    </style>
</head>
<body>
    <canvas id="girasolCanvas" width="400" height="400"></canvas>
    
    <audio controls autoplay>
        <source src="flor.mp3" type="audio/mpeg">
        Tu navegador no soporta la reproducción de audio.
    </audio>

    <script>
        var canvas = document.createElement("canvas");
        document.body.appendChild(canvas);

        var ctx = canvas.getContext("2d");

        // Variables para la animación
        var cloudX1 = 0; // Posición inicial de la primera nube
        var cloudX2 = 200; // Posición inicial de la segunda nube
        var leafY = 370; // Posición vertical inicial de la hoja
        var leafDirection = 1; // Dirección de movimiento de la hoja
        var petalAngle = 0; // Ángulo inicial de los pétalos

        // Define la relación de aspecto deseada
        var aspectRatio = 16 / 9; // Ejemplo: 16:9

        // Ajusta el tamaño del canvas para que ocupe la pantalla completa
        function resizeCanvas() {
            var windowWidth = window.innerWidth;
            var windowHeight = window.innerHeight;

            // Calcula el ancho y alto del canvas según la relación de aspecto
            var canvasWidth, canvasHeight;

            if (windowWidth / windowHeight > aspectRatio) {
                // Ventana más ancha, ajusta la altura
                canvasHeight = windowHeight;
                canvasWidth = windowHeight * aspectRatio;
            } else {
                // Ventana más alta o igual, ajusta el ancho
                canvasWidth = windowWidth;
                canvasHeight = windowWidth / aspectRatio;
            }

            canvas.width = canvasWidth;
            canvas.height = canvasHeight;
        }

        // Llama a la función de redimensionamiento cuando cambia el tamaño de la ventana
        window.addEventListener("resize", resizeCanvas);

        // Inicializa el tamaño del canvas
        resizeCanvas();

        // Función para dibujar un girasol
        function drawSunflower(x, y) {
            // Dibuja las nubes en movimiento
            drawCloud(cloudX1 + x, 50, 80);
            drawCloud(cloudX2 + x, 100, 60);

            // Dibuja el tallo hacia abajo
            ctx.fillStyle = "#228B22"; // Color verde
            ctx.fillRect(195 + x, 340, 10, 100);

            // Dibuja dos hojas a cada lado del girasol
            drawLeaf(200 + x, 215 + x, 280 + x, leafY, leafDirection); // Hoja derecha

            // Dibuja el centro del girasol (café)
            ctx.beginPath();
            ctx.arc(200 + x, 300, 40, 0, Math.PI * 2);
            ctx.fillStyle = "#8B4513"; // Color café
            ctx.fill();
            ctx.closePath();

            // Dibuja los puntos en el centro sin moverlos
            ctx.fillStyle = "#000000"; // Color negro (pecas)
            for (var i = 0; i < puntosCentro.length; i++) {
                var punto = puntosCentro[i];
                ctx.beginPath();
                ctx.arc(punto.x + x, punto.y, punto.radius, 0, Math.PI * 2);
                ctx.fill();
                ctx.closePath();
            }

            // Dibuja los pétalos del girasol más cerca del centro
            ctx.fillStyle = "#FFD700"; // Color amarillo
            var numPetals = 12;
            var angleIncrement = (Math.PI * 2) / numPetals;
            var petalLength = 40; // Longitud reducida de los pétalos
            var petalWidth = 15; // Ancho reducido de los pétalos

            for (var i = 0; i < numPetals; i++) {
                var angle = i * angleIncrement + petalAngle;
                var cosAngle = Math.cos(angle);
                var sinAngle = Math.sin(angle);

                var xPetal = 200 + cosAngle * petalLength + x;
                var yPetal = 300 + sinAngle * petalLength;

                ctx.save();
                ctx.translate(xPetal, yPetal);
                ctx.rotate(angle);

                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.quadraticCurveTo(-10, -20, 0, -40);
                ctx.quadraticCurveTo(10, -20, 0, 0);
                ctx.closePath();

                ctx.fill();
                ctx.restore();
            }
        }

        // Función para dibujar una nube
        function drawCloud(x, y, radius) {
            ctx.fillStyle = "#FFFFFF"; // Color blanco
            ctx.beginPath();
            ctx.arc(x, y, radius, 0, Math.PI * 2);
            ctx.arc(x + 30, y - 30, radius + 10, 0, Math.PI * 2);
            ctx.arc(x + 60, y, radius, 0, Math.PI * 2);
            ctx.closePath();
            ctx.fill();
        }

        // Función para dibujar una hoja
        function drawLeaf(startX, endX, x, y, direction) {
            ctx.fillStyle = "#228B22"; // Color verde
            ctx.beginPath();
            ctx.moveTo(startX, y);
            ctx.quadraticCurveTo(startX + 10, y + 30 * direction, x, y);
            ctx.quadraticCurveTo(startX + 10, y + 20 * direction, startX, y);
            ctx.fill();
            ctx.closePath();
        }

        // Variables para puntos en el centro
        var numPecas = 50;
        var centerRadius = 20; // Radio del círculo del centro
        var angleIncrement = (Math.PI * 2) / numPecas;
        var puntosCentro = [];

        for (var i = 0; i < numPecas; i++) {
            var angle = i * angleIncrement;
            var distance = Math.random() * centerRadius;
            var x = 200 + Math.cos(angle) * distance;
            var y = 300 + Math.sin(angle) * distance;
            var radius = Math.random() * 2 + 1;
            puntosCentro.push({ x, y, radius });
        }

        function draw() {
            // Dibuja el fondo
            ctx.fillStyle = "#87CEEB"; // Color cielo
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Dibuja girasoles en diferentes posiciones
            drawSunflower(0);
            drawSunflower(250);
            drawSunflower(500);

            // Actualiza las variables de animación
            cloudX1 += 0.2; // Mueve la primera nube hacia la derecha
            cloudX2 += 0.3; // Mueve la segunda nube hacia la derecha
            leafY += 0.2 * leafDirection; // Mueve la hoja arriba o abajo
            if (leafY >= 390 || leafY <= 370) {
                leafDirection *= -1; // Cambia la dirección de movimiento de la hoja
            }
            petalAngle += 0.005; // Hace que los pétalos giren suavemente

            // Solicita la próxima animación
            requestAnimationFrame(draw);
        }

        / Define la relación de aspecto deseada
var aspectRatio = 16 / 9; // Ejemplo: 16:9

// Ajusta el tamaño del canvas para que ocupe la pantalla completa
function resizeCanvas() {
   var windowWidth = window.innerWidth;
   var windowHeight = window.innerHeight;

   // Calcula el ancho y alto del canvas según la relación de aspecto
   var canvasWidth, canvasHeight;

   if (windowWidth / windowHeight > aspectRatio) {
       // Ventana más ancha, ajusta la altura
       canvasHeight = windowHeight;
       canvasWidth = windowHeight * aspectRatio;
   } else {
       // Ventana más alta o igual, ajusta el ancho
       canvasWidth = windowWidth;
       canvasHeight = windowWidth / aspectRatio;
   }

   // Establece el tamaño del canvas
   canvas.width = canvasWidth;
   canvas.height = canvasHeight;
}

// Llama a la función de redimensionamiento cuando cambia el tamaño de la ventana
window.addEventListener("resize", resizeCanvas);


// Inicializa el tamaño del canvas
resizeCanvas();
    

        // Inicia la animación
        draw();
    </script>
</body>
</html>

